name: build-noble

on:
  workflow_dispatch:
  

permissions:
  contents: write

jobs:

  build-aarch64:
  
    runs-on: ubuntu-24.04-arm

    steps:
    - uses: actions/checkout@v4
    - name: Download rootfs
      run: |
        wget -q https://github.com/termux/proot-distro/releases/download/v4.18.0/ubuntu-noble-aarch64-pd-v4.18.0.tar.xz -P $GITHUB_WORKSPACE/
    - name: Decompress rootfs
      run: |
        sudo tar -xJf ubuntu-noble-aarch64-pd-v4.18.0.tar.xz
        mv ubuntu-noble-aarch64 portadesx-lxqt
    - name: Mount important filesystem
      run: |
        sudo mount --bind /proc $GITHUB_WORKSPACE/portadesx-lxqt/proc
        sudo mount --bind /sys $GITHUB_WORKSPACE/portadesx-lxqt/sys
        sudo mount --bind /run $GITHUB_WORKSPACE/portadesx-lxqt/run
        sudo mount --bind /dev $GITHUB_WORKSPACE/portadesx-lxqt/dev
        sudo mount --bind /dev/pts $GITHUB_WORKSPACE/portadesx-lxqt/dev/pts
    - name: Remove snap override on apt
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt install wget sudo && wget https://raw.githubusercontent.com/arfshl/no-snap-on-apt/refs/heads/main/Noble/arm64/setup.sh && sh setup.sh && rm setup.sh"
    - name: Install LXQt desktop, VNC, and basic utility
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt upgrade -y && apt install lxqt-core lxqt-config qterminal dbus-x11 pulseaudio nano wget curl sudo adduser pavucontrol tigervnc-standalone-server -y && apt clean"
    - name: Adding user and password
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo adduser --disabled-password --gecos "portadesx" portadesx && echo 'portadesx:123' | chpasswd && echo 'portadesx ALL=(ALL:ALL) ALL' >> /etc/sudoers.d/user"
    - name: Setting up VNC Script
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx-lxqt/refs/heads/main/scripts/vncsetup.sh && sh vncsetup.sh && rm vncsetup.sh"
    - name: Setting up Help Script
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx-lxqt/refs/heads/main/scripts/portadesx-lxqt-help -P /usr/local/bin && chmod +x /usr/local/bin/portadesx-lxqt-help && portadesx-lxqt-help"
    - name: Install user apps
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt install chromium firefox vlc thunderbird okular lximage-qt kcalc lxqt-archiver libheif1 webp-pixbuf-loader fonts-liberation p7zip featherpad -y"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "mkdir -p /home/portadesx/Desktop"
        # sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "mkdir -p /home/portadesx/.config/ && wget https://raw.githubusercontent.com/portadesx/portadesx/refs/heads/main/scripts/user-dirs.dirs -P /home/portadesx/.config/"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium --incognito %U|chromium --incognito --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium %U|chromium --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium --new-window %U|chromium --new-window --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo rm /etc/chromium/master_preferences"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx/refs/heads/main/scripts/office-online.desktop -P /usr/share/applications/"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/office-online.desktop /home/portadesx/Desktop/office-online.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/firefox.desktop /home/portadesx/Desktop/firefox.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/chromium.desktop /home/portadesx/Desktop/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/vlc.desktop /home/portadesx/Desktop/vlc.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/thunderbird.desktop /home/portadesx/Desktop/thunderbird.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/org.kde.okular.desktop /home/portadesx/Desktop/org.kde.okular.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/org.kde.kcalc.desktop /home/portadesx/Desktop/org.kde.kcalc.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/lximage-qt.desktop /home/portadesx/Desktop/lximage-qt.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/lxqt-archiver.desktop /home/portadesx/Desktop/lxqt-archiver.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/featherpad.desktop /home/portadesx/Desktop/featherpad.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/qterminal.desktop /home/portadesx/Desktop/qterminal.desktop"
    - name: Unmount important filesystem
      run: |
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/proc
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/sys
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/run
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/dev
    - name: Compress rootfs
      run: |
        mkdir $GITHUB_WORKSPACE/release
        cd $GITHUB_WORKSPACE
        sudo tar -cJf $GITHUB_WORKSPACE/release/portadesx-lxqt-aarch64.tar.xz portadesx-lxqt
    - name: Upload to artifact
      uses: actions/upload-artifact@v4
      with:
        name: portadesx-lxqt-aarch64
        path: release/portadesx-lxqt-aarch64.tar.xz

  build-armhf:

    runs-on: ubuntu-24.04-arm

    steps:
    - uses: actions/checkout@v4
    - name: Enable armhf architecture
      run: |
        sudo dpkg --add-architecture armhf
        sudo apt update
        sudo apt install libc6:armhf libstdc++6:armhf -y
    - name: Download rootfs
      run: |
        wget -q https://github.com/termux/proot-distro/releases/download/v4.18.0/ubuntu-noble-arm-pd-v4.18.0.tar.xz -P $GITHUB_WORKSPACE/
    - name: Decompress rootfs
      run: |
        sudo tar -xJf ubuntu-noble-arm-pd-v4.18.0.tar.xz
        mv ubuntu-noble-arm portadesx
    - name: Mount important filesystem
      run: |
        sudo mount --bind /proc $GITHUB_WORKSPACE/portadesx-lxqt/proc
        sudo mount --bind /sys $GITHUB_WORKSPACE/portadesx-lxqt/sys
        sudo mount --bind /run $GITHUB_WORKSPACE/portadesx-lxqt/run
        sudo mount --bind /dev $GITHUB_WORKSPACE/portadesx-lxqt/dev
        sudo mount --bind /dev/pts $GITHUB_WORKSPACE/portadesx-lxqt/dev/pts
    - name: Remove snap override on apt
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt install wget sudo && wget https://raw.githubusercontent.com/arfshl/no-snap-on-apt/refs/heads/main/Noble/arm64/setup.sh && sh setup.sh && rm setup.sh"
    - name: Install LXQt desktop, VNC, and basic utility
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt upgrade -y && apt install lxqt-core lxqt-config qterminal dbus-x11 pulseaudio nano wget curl sudo adduser pavucontrol tigervnc-standalone-server -y && apt clean"
    - name: Adding user and password
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo adduser --disabled-password --gecos "portadesx" portadesx && echo 'portadesx:123' | chpasswd && echo 'portadesx ALL=(ALL:ALL) ALL' >> /etc/sudoers.d/user"
    - name: Setting up VNC Script
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx-lxqt/refs/heads/main/scripts/vncsetup.sh && sh vncsetup.sh && rm vncsetup.sh"
    - name: Setting up Help Script
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx-lxqt/refs/heads/main/scripts/portadesx-lxqt-help -P /usr/local/bin && chmod +x /usr/local/bin/portadesx-lxqt-help && portadesx-lxqt-help"
    - name: Install user apps
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt install chromium firefox vlc thunderbird okular lximage-qt kcalc lxqt-archiver libheif1 webp-pixbuf-loader fonts-liberation p7zip featherpad -y"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "mkdir -p /home/portadesx/Desktop"
        # sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "mkdir -p /home/portadesx/.config/ && wget https://raw.githubusercontent.com/portadesx/portadesx/refs/heads/main/scripts/user-dirs.dirs -P /home/portadesx/.config/"
        #sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium --incognito %U|chromium --incognito --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        #sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium %U|chromium --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        #sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium --new-window %U|chromium --new-window --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        #sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo rm /etc/chromium/master_preferences"
        #sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx/refs/heads/main/scripts/office-online.desktop -P /usr/share/applications/"
        #sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/office-online.desktop /home/portadesx/Desktop/office-online.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/firefox.desktop /home/portadesx/Desktop/firefox.desktop"
        #sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/chromium.desktop /home/portadesx/Desktop/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/vlc.desktop /home/portadesx/Desktop/vlc.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/thunderbird.desktop /home/portadesx/Desktop/thunderbird.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/org.kde.okular.desktop /home/portadesx/Desktop/org.kde.okular.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/org.kde.kcalc.desktop /home/portadesx/Desktop/org.kde.kcalc.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/lximage-qt.desktop /home/portadesx/Desktop/lximage-qt.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/lxqt-archiver.desktop /home/portadesx/Desktop/lxqt-archiver.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/featherpad.desktop /home/portadesx/Desktop/featherpad.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/qterminal.desktop /home/portadesx/Desktop/qterminal.desktop"
    - name: Unmount important filesystem
      run: |
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/proc
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/sys
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/run
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/dev
    - name: Compress rootfs
      run: |
        mkdir $GITHUB_WORKSPACE/release
        cd $GITHUB_WORKSPACE
        sudo tar -cJf $GITHUB_WORKSPACE/release/portadesx-lxqt-armhf.tar.xz portadesx-lxqt
    - name: Upload to artifact
      uses: actions/upload-artifact@v4
      with:
        name: portadesx-lxqt-armhf
        path: release/portadesx-lxqt-armhf.tar.xz

  build-x86_64:
  
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - name: Download rootfs
      run: |
        wget -q https://github.com/termux/proot-distro/releases/download/v4.18.0/ubuntu-noble-x86_64-pd-v4.18.0.tar.xz -P $GITHUB_WORKSPACE/
    - name: Decompress rootfs
      run: |
        sudo tar -xJf ubuntu-noble-x86_64-pd-v4.18.0.tar.xz
        mv ubuntu-noble-x86_64 portadesx-lxqt
    - name: Mount important filesystem
      run: |
        sudo mount --bind /proc $GITHUB_WORKSPACE/portadesx-lxqt/proc
        sudo mount --bind /sys $GITHUB_WORKSPACE/portadesx-lxqt/sys
        sudo mount --bind /run $GITHUB_WORKSPACE/portadesx-lxqt/run
        sudo mount --bind /dev $GITHUB_WORKSPACE/portadesx-lxqt/dev
        sudo mount --bind /dev/pts $GITHUB_WORKSPACE/portadesx-lxqt/dev/pts
    - name: Remove snap override on apt
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt install wget sudo && wget https://raw.githubusercontent.com/arfshl/no-snap-on-apt/refs/heads/main/Noble/arm64/setup.sh && sh setup.sh && rm setup.sh"
    - name: Install LXQt desktop, VNC, and basic utility
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt upgrade -y && apt install lxqt-core lxqt-config qterminal dbus-x11 pulseaudio nano wget curl sudo adduser pavucontrol tigervnc-standalone-server -y && apt clean"
    - name: Adding user and password
      run: |
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo adduser --disabled-password --gecos "portadesx" portadesx && echo 'portadesx:123' | chpasswd && echo 'portadesx ALL=(ALL:ALL) ALL' >> /etc/sudoers.d/user"
    - name: Setting up VNC Script
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx-lxqt/refs/heads/main/scripts/vncsetup.sh && sh vncsetup.sh && rm vncsetup.sh"
    - name: Setting up Help Script
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx-lxqt/refs/heads/main/scripts/portadesx-lxqt-help -P /usr/local/bin && chmod +x /usr/local/bin/portadesx-lxqt-help && portadesx-lxqt-help"
    - name: Install user apps
      run: | 
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "apt update && apt install chromium firefox vlc thunderbird okular lximage-qt kcalc lxqt-archiver libheif1 webp-pixbuf-loader fonts-liberation p7zip featherpad -y"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "mkdir -p /home/portadesx/Desktop"
        # sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "mkdir -p /home/portadesx/.config/ && wget https://raw.githubusercontent.com/portadesx/portadesx/refs/heads/main/scripts/user-dirs.dirs -P /home/portadesx/.config/"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium --incognito %U|chromium --incognito --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium %U|chromium --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo sed -i 's|chromium --new-window %U|chromium --new-window --no-sandbox %U|' /usr/share/applications/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "sudo rm /etc/chromium/master_preferences"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "wget https://raw.githubusercontent.com/portadesx/portadesx/refs/heads/main/scripts/office-online.desktop -P /usr/share/applications/"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/office-online.desktop /home/portadesx/Desktop/office-online.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/firefox.desktop /home/portadesx/Desktop/firefox.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/chromium.desktop /home/portadesx/Desktop/chromium.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/vlc.desktop /home/portadesx/Desktop/vlc.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/thunderbird.desktop /home/portadesx/Desktop/thunderbird.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/org.kde.okular.desktop /home/portadesx/Desktop/org.kde.okular.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/org.kde.kcalc.desktop /home/portadesx/Desktop/org.kde.kcalc.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/lximage-qt.desktop /home/portadesx/Desktop/lximage-qt.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/lxqt-archiver.desktop /home/portadesx/Desktop/lxqt-archiver.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/featherpad.desktop /home/portadesx/Desktop/featherpad.desktop"
        sudo chroot $GITHUB_WORKSPACE/portadesx-lxqt /bin/bash -c "ln -s /usr/share/applications/qterminal.desktop /home/portadesx/Desktop/qterminal.desktop"
    - name: Unmount important filesystem
      run: |
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/proc
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/sys
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/run
        sudo umount -l $GITHUB_WORKSPACE/portadesx-lxqt/dev
    - name: Compress rootfs
      run: |
        mkdir $GITHUB_WORKSPACE/release
        cd $GITHUB_WORKSPACE
        sudo tar -cJf $GITHUB_WORKSPACE/release/portadesx-lxqt-x86_64.tar.xz portadesx-lxqt
    - name: Upload to artifact
      uses: actions/upload-artifact@v4
      with:
        name: portadesx-lxqt-x86_64
        path: release/portadesx-lxqt-x86_64.tar.xz

  release:
    runs-on: ubuntu-latest
    needs:
    - build-aarch64
    - build-x86_64
    - build-armhf

    steps:
    - uses: actions/checkout@v4
    - name: Download all workflow run artifacts
      uses: actions/download-artifact@v4
    - name: Calculate time and SH256
      run : |
       echo "TIMESTAMP=$(date +"%Y%m%d%H%M")" >> $GITHUB_ENV
       echo "AARCH64SHA256=$(sha256sum portadesx-lxqt-aarch64/portadesx-lxqt-aarch64.tar.xz | cut -d ' ' -f 1)" >> $GITHUB_ENV
       echo "ARMHFSHA256=$(sha256sum portadesx-lxqt-armhf/portadesx-lxqt-armhf.tar.xz | cut -d ' ' -f 1)" >> $GITHUB_ENV
       echo "X8664SHA256=$(sha256sum portadesx-lxqt-x86_64/portadesx-lxqt-x86_64.tar.xz | cut -d ' ' -f 1)" >> $GITHUB_ENV
       
    - name: Release it!
      uses: softprops/action-gh-release@v2
      with:
          tag_name: noble-${{ env.TIMESTAMP }}
          name: Release 24.04 ${{ env.TIMESTAMP }}
          body: |
            Based on Ubuntu 24.04 LTS
            Generated on ${{ env.TIMESTAMP }}
            SHA-256:
            aarch64: `${{ env.AARCH64SHA256 }}`
            armhf: `${{ env.ARMHFSHA256 }}`
            x86_64: `${{ env.X8664SHA256 }}`
          draft: false
          prerelease: false
          make_latest: true
          files: |
            portadesx-lxqt-aarch64/portadesx-lxqt-aarch64.tar.xz
            portadesx-lxqt-armhf/portadesx-lxqt-armhf.tar.xz
            portadesx-lxqt-x86_64/portadesx-lxqt-x86_64.tar.xz
      env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}   
